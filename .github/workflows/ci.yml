name: CI

on:
    push:
        branches: [master]

env:
  DOCKER_REGISTRY: docker.io
  IMAGE_NAME: ${{ github.repository }}

jobs:
    build-and-test:
        runs-on: ubuntu-latest
        
        steps:
            # 소스코드 복사
            - name: 코드 가져오기
              uses: actions/checkout@v3
              
              # java 환경 구성
            - name: JDK 17 설치
              uses: actions/setup-java@v3
              with:
                  java-version: '17'
                  distribution: 'temurin'
                
            # Maven 빌드  
            - name: Maven 빌드
              run: mvn clean package
              
            - name: 빌드 아틱팩트 업로드
              uses: actions/upload-artifact@v4
              with:
                name: jar-artifact
                path: target/*.jar
